<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Huile d‚Äôolive de Fany ‚Äì Manziana, Italie</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --green-dark: #071608;
      --green-main: #203d1d;
      --green-soft: #314e2e;
      --cream: #f7f1e6;
      --accent-gold: #f6b552;
      --accent-olive: #afc96c;
      --text-main: #182015;
      --white: #ffffff;
      --shadow-soft: 0 18px 45px rgba(0,0,0,0.35);
      --radius-big: 32px;
      --radius-med: 18px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
      color: var(--text-main);
      background: var(--green-dark);
    }

    /* --- Fond photo pleine page --- */
    .page-bg {
      position: fixed;
      inset: 0;
      background-image: url("https://images.pexels.com/photos/3892172/pexels-photo-3892172.jpeg?auto=compress&cs=tinysrgb&w=1600");
      background-size: cover;
      background-position: center;
      filter: brightness(0.55) saturate(1.2);
      z-index: -2;
    }

    .page-overlay {
      position: fixed;
      inset: 0;
      background:
        radial-gradient(circle at 0% 0%, rgba(255,255,255,0.12), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(0,0,0,0.55), rgba(0,0,0,0.85));
      z-index: -1;
    }

    .page-shell {
      max-width: 1120px;
      margin: 0 auto;
      padding: 24px 20px 80px;
      color: var(--cream);
    }

    /* --- Header --- */
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 18px;
      margin-bottom: 36px;
      border-radius: 999px;
      backdrop-filter: blur(16px);
      background: linear-gradient(
        120deg,
        rgba(9,28,10,0.92),
        rgba(39,70,35,0.92)
      );
      box-shadow: 0 12px 30px rgba(0,0,0,0.45);
    }

    .brand {
      font-weight: 700;
      letter-spacing: 0.09em;
      font-size: 0.95rem;
      text-transform: uppercase;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .brand-pill {
      padding: 6px 11px;
      border-radius: 999px;
      background: rgba(248,250,252,0.09);
      font-size: 0.75rem;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    nav {
      display: flex;
      gap: 20px;
      font-size: 0.9rem;
    }
    nav a {
      color: var(--cream);
      text-decoration: none;
      opacity: 0.9;
    }
    nav a:hover {
      opacity: 1;
      text-decoration: underline;
    }

    /* --- Hero --- */
    .hero {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
      gap: 26px;
      align-items: stretch;
      margin-bottom: 40px;
    }

    .hero-text {
      padding: 36px 34px 32px;
      border-radius: var(--radius-big);
      background: linear-gradient(140deg, rgba(19,46,19,0.96), rgba(49,88,48,0.96));
      box-shadow: var(--shadow-soft);
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 5px 12px;
      border-radius: 999px;
      background: rgba(248,250,252,0.09);
      font-size: 0.8rem;
      margin-bottom: 14px;
    }

    .chip span.flag {
      font-size: 1.05rem;
    }

    .hero-title {
      font-size: clamp(2rem, 3.2vw, 2.7rem);
      line-height: 1.1;
      margin: 4px 0 16px;
      font-weight: 800;
    }

    .hero-sub {
      font-size: 1.0rem;
      line-height: 1.6;
      margin-bottom: 20px;
      color: #e6f3dc;
    }

    .hero-list {
      margin: 0 0 24px;
      padding: 0;
      list-style: none;
    }

    .hero-list li {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      margin-bottom: 6px;
      font-size: 0.97rem;
    }

    .hero-list li span.icon {
      font-size: 1.05rem;
      margin-top: 1px;
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .btn-main,
    .btn-ghost {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px 22px;
      border-radius: 999px;
      border: none;
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
      text-decoration: none;
      transition: transform 0.08s ease, box-shadow 0.08s ease, background 0.15s ease;
      white-space: nowrap;
    }

    .btn-main {
      background: linear-gradient(120deg, #f4c166, #f4a633);
      color: #4b2f0d;
      box-shadow: 0 12px 30px rgba(0,0,0,0.45);
    }
    .btn-main:hover {
      transform: translateY(-1px);
      box-shadow: 0 16px 36px rgba(0,0,0,0.5);
    }

    .btn-ghost {
      background: transparent;
      border: 1px solid rgba(235,243,221,0.5);
      color: #ebf3dd;
    }
    .btn-ghost:hover {
      background: rgba(235,243,221,0.07);
    }

    /* --- Hero image card --- */
    .hero-image-card {
      position: relative;
      border-radius: var(--radius-big);
      overflow: hidden;
      background: radial-gradient(circle at 0 0, #345530, #152315);
      box-shadow: var(--shadow-soft);
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
    }

    .hero-img-wrap {
      position: absolute;
      inset: 0;
      overflow: hidden;
    }

    .hero-img-wrap img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transform: scale(1.04);
      filter: contrast(1.1) saturate(1.15);
      opacity: 1;
      transition: opacity 0.7s ease-in-out, transform 0.7s ease-in-out;
    }

    .hero-gradient {
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 0 0, rgba(255,255,255,0.08), transparent 55%),
        linear-gradient(to top, rgba(0,0,0,0.75), rgba(0,0,0,0.10));
    }

    .hero-caption {
      position: relative;
      padding: 24px 26px 24px;
      z-index: 1;
      color: #f5f7ea;
      font-size: 0.93rem;
      line-height: 1.5;
    }

    .hero-caption-title {
      font-weight: 600;
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .hero-caption-badge {
      font-size: 0.7rem;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid rgba(245,245,245,0.6);
      text-transform: uppercase;
      letter-spacing: 0.09em;
    }

    /* --- BOUTEILLES STYLIS√âES --- */
    .bottle-thumb {
      width: 60px;
      height: 90px;
      border-radius: 22px;
      background: linear-gradient(150deg, #305125, #6fa44a);
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
      position: relative;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      padding-bottom: 6px;
      overflow: hidden;
    }
    .bottle-thumb.large {
      width: 70px;
      height: 105px;
    }
    .bottle-glass {
      width: 72%;
      height: 86%;
      border-radius: 18px;
      background: linear-gradient(170deg, #faf4c8, #e0c95e);
      box-shadow: inset 0 0 9px rgba(0,0,0,0.18);
      opacity: 0.96;
    }
    .bottle-olive-icon {
      position: absolute;
      bottom: 4px;
      font-size: 1rem;
      text-shadow: 0 0 4px rgba(0,0,0,0.35);
    }

    /* --- Sections --- */
    section {
      margin-bottom: 36px;
    }

    .card {
      border-radius: var(--radius-big);
      padding: 26px 26px 24px;
      background: rgba(245,248,238,0.94);
      color: var(--text-main);
      box-shadow: var(--shadow-soft);
    }

    .section-title {
      font-size: 1.4rem;
      margin: 0 0 12px;
      color: #1c2a17;
    }

    .section-sub {
      margin: 0 0 16px;
      color: #4a5740;
      font-size: 0.98rem;
    }

    footer {
      margin-top: 40px;
      font-size: 0.78rem;
      color: rgba(226,234,219,0.82);
      text-align: center;
    }

    footer a {
      color: rgba(248,250,252,0.9);
      text-decoration: none;
    }
    footer a:hover { text-decoration: underline; }

    @media (max-width: 880px) {
      header {
        flex-direction: column;
        gap: 10px;
        align-items: flex-start;
      }
      .hero {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 600px) {
      .page-shell {
        padding: 16px 14px 60px;
      }
      .hero-text {
        padding: 26px 22px 22px;
      }
      .hero-title {
        font-size: 1.9rem;
      }
      .card {
        padding: 22px 18px 20px;
      }
      nav {
        gap: 12px;
        font-size: 0.85rem;
      }
    }
  </style>
</head>
<body>
  <div class="page-bg"></div>
  <div class="page-overlay"></div>

  <div class="page-shell">
    <header>
      <div>
        <div class="brand">HUILE D‚ÄôOLIVE DE FANY</div>
        <div class="brand-pill">
          <span class="flag">üáÆüáπ</span>
          Manziana, collines au nord de Rome
        </div>
      </div>
      <nav>
        <a href="#apropos">√Ä propos</a>
        <a href="#degustation">D√©gustation</a>
        <a href="#commander">Commander</a>
        <a href="#contact">Contact</a>
      </nav>
    </header>

    <main>
      <!-- HERO -->
      <section class="hero" id="haut">
        <div class="hero-text">
          <div class="chip">
            <span>üåø</span> R√©colte familiale ‚Äì huile d‚Äôolive extra vierge
          </div>
          <h1 class="hero-title">
            Huile d‚Äôolive extra vierge,<br />
            r√©colte familiale de Manziana
          </h1>
          <p class="hero-sub">
            Fany produit une huile d‚Äôolive extra vierge artisanale dans la campagne
            de Manziana, en Italie. R√©colte manuelle, olives press√©es √† froid
            dans un petit moulin local, ar√¥mes d‚Äôherbes fra√Æches, d‚Äôartichaut et
            d‚Äôamande. Une huile g√©n√©reuse, riche en bons gras et en om√©ga-3.
          </p>

          <ul class="hero-list">
            <li>
              <span class="icon">ü´í</span>
              <span>Oliviers familiaux, r√©colte √† la main &amp; tra√ßabilit√© de la parcelle.</span>
            </li>
            <li>
              <span class="icon">‚ùÑÔ∏è</span>
              <span>Press√©e √† froid pour pr√©server les ar√¥mes &amp; les antioxydants naturels.</span>
            </li>
            <li>
              <span class="icon">ü•ó</span>
              <span>Parfaite pour salades croquantes, l√©gumes grill√©s, poissons et cuisine m√©diterran√©enne.</span>
            </li>
            <li>
              <span class="icon">üíö</span>
              <span>Profil nutritionnel riche en bons gras insatur√©s &amp; om√©ga-3, alli√© du c≈ìur.</span>
            </li>
          </ul>

          <div class="hero-actions">
            <a href="#commander" class="btn-main">
              üìù Commander l‚Äôhuile
            </a>
            <a href="#apropos" class="btn-ghost">
              D√©couvrir l‚Äôhistoire de l‚Äôhuile
            </a>
          </div>
        </div>

        <!-- CARTE AVEC DIAPORAMA -->
        <aside class="hero-image-card">
          <div class="hero-img-wrap">
            <img
              id="hero-slideshow"
              src="https://images.pexels.com/photos/1047312/pexels-photo-1047312.jpeg?auto=compress&cs=tinysrgb&w=1600"
              alt="Oliveraie en Italie et huile d‚Äôolive"
            />
          </div>
          <div class="hero-gradient"></div>
          <div class="hero-caption">
            <div class="hero-caption-title">
              üåø Oliveraies & huile vivante
              <span class="hero-caption-badge">R√©colte familiale</span>
            </div>
            Collines d‚Äôoliviers baign√©es de soleil, olives cueillies √† la main,
            huile verte aux reflets dor√©s‚Ä¶ L‚Äôhuile de Fany apporte √† la fois
            <strong>le go√ªt de l‚ÄôItalie</strong> et les bienfaits naturels des bons
            gras dans votre assiette.
          </div>
        </aside>
      </section>

      <!-- A PROPOS -->
      <section id="apropos">
        <div class="card">
          <h2 class="section-title">Une petite production pleine de soleil</h2>
          <p class="section-sub">
            √Ä Manziana, au nord de Rome, Fany entretient un petit verger familial d‚Äôoliviers.
            Chaque automne, la r√©colte se fait √† la main, puis les olives sont press√©es √† froid
            dans un moulin local. L‚Äôhuile n‚Äôest pas standardis√©e : elle suit la m√©t√©o de l‚Äôann√©e
            et le rythme des arbres. R√©sultat : une huile vivante, parfum√©e, √† la personnalit√© unique.
          </p>
        </div>
      </section>

      <!-- DEGUSTATION -->
      <section id="degustation">
        <div class="card">
          <h2 class="section-title">Id√©es pour la d√©guster</h2>
          <p class="section-sub">
            L‚Äôhuile de Fany est √† son meilleur lorsqu‚Äôelle est utilis√©e crue ou ajout√©e en fin de cuisson.
            Quelques id√©es pour la mettre en valeur :
          </p>
          <ul class="hero-list">
            <li><span class="icon">ü•ó</span><span>Salades de tomates, burrata, roquette, basilic ‚Äì un filet juste avant de servir.</span></li>
            <li><span class="icon">üçû</span><span>Sur du pain grill√© avec un peu de fleur de sel et d‚Äôail ‚Äì l‚Äôap√©ro le plus simple du monde.</span></li>
            <li><span class="icon">üêü</span><span>Sur un poisson au four ou grill√©, √† la sortie du four pour garder les ar√¥mes.</span></li>
            <li><span class="icon">ü•¶</span><span>Sur des l√©gumes r√¥tis ou vapeur : courgettes, aubergines, brocolis, fenouil‚Ä¶</span></li>
          </ul>
        </div>
      </section>

      <!-- COMMANDER -->
      <section id="commander">
        <div class="card">
          <h2 class="section-title">Composer votre commande & payer en ligne</h2>
          <p class="section-sub">
            Indiquez vos coordonn√©es, choisissez le nombre de bouteilles souhait√©,
            puis s√©lectionnez livraison ou retrait √† Ixelles. Le <strong>montant total</strong>
            est calcul√© automatiquement. Quand vous cliquez sur le bouton de paiement,
            un <strong>e-mail r√©capitulatif</strong> de votre commande est envoy√© √† Fany
            et vous √™tes redirig√©¬∑e vers Revolut pour r√©gler.
          </p>

          <p class="section-sub" style="font-weight:600; background:#f3efe5; padding:10px 12px; border-radius:14px;">
            üìç <strong>Zone de livraison :</strong> uniquement <strong>Uccle</strong>, <strong>Ixelles</strong>
            et un rayon d‚Äôenviron <strong>3&nbsp;km</strong> autour.  
            En dehors de cette zone, la commande se fait en
            <strong>retrait √† Ixelles sur rendez-vous</strong>
            (contact par e-mail :
            <a href="mailto:arnaudvanderstraten@gmail.com">arnaudvanderstraten@gmail.com</a>).
          </p>

          <!-- Coordonn√©es client -->
          <div style="margin-top:18px; display:grid; gap:10px; grid-template-columns: minmax(0,1.1fr) minmax(0,1fr);">
            <div>
              <label for="customer-name" style="font-size:0.9rem; font-weight:600;">Nom &amp; pr√©nom</label>
              <input
                id="customer-name"
                type="text"
                placeholder="Votre nom et pr√©nom"
                style="width:100%; padding:7px 9px; border-radius:10px; border:1px solid #c9c1ad;"
              />
            </div>
            <div>
              <label for="customer-email" style="font-size:0.9rem; font-weight:600;">Adresse e-mail</label>
              <input
                id="customer-email"
                type="email"
                placeholder="vous@example.com"
                style="width:100%; padding:7px 9px; border-radius:10px; border:1px solid #c9c1ad;"
              />
              <div style="font-size:0.8rem; color:#666; margin-top:3px;">
                Utile si nous devons vous confirmer la disponibilit√© ou fixer un rendez-vous.
              </div>
            </div>
          </div>

          <!-- Choix des bouteilles -->
          <div style="margin-top:18px; display:grid; gap:10px;">
            <!-- Bouteille 250 ml -->
            <div
              class="product-line"
              data-price="8"
              style="display:flex; flex-wrap:wrap; align-items:center; gap:10px; justify-content:space-between; border-bottom:1px solid #e2dfd4; padding-bottom:8px;"
            >
              <div style="display:flex; align-items:center; gap:12px;">
                <div class="bottle-thumb">
                  <div class="bottle-glass"></div>
                  <span class="bottle-olive-icon">ü´í</span>
                </div>
                <div>
                  <strong>Bouteille 250&nbsp;ml</strong>
                  <div style="font-size:0.9rem; color:#555;">
                    Petit format pour d√©couvrir l‚Äôhuile ou l‚Äôoffrir en cadeau.<br />
                    <span><strong><span id="price-250-label">8</span>&nbsp;‚Ç¨</strong> / bouteille</span>
                  </div>
                </div>
              </div>
              <div>
                <label for="qty-250" style="font-size:0.9rem; font-weight:600;">Quantit√©</label>
                <input
                  id="qty-250"
                  type="number"
                  min="0"
                  value="0"
                  style="width:80px; padding:6px 8px; border-radius:10px; border:1px solid #c9c1ad;"
                />
              </div>
            </div>

            <!-- Bouteille 750 ml -->
            <div
              class="product-line"
              data-price="15"
              style="display:flex; flex-wrap:wrap; align-items:center; gap:10px; justify-content:space-between; border-bottom:1px solid #e2dfd4; padding-bottom:8px;"
            >
              <div style="display:flex; align-items:center; gap:12px;">
                <div class="bottle-thumb large">
                  <div class="bottle-glass"></div>
                  <span class="bottle-olive-icon">ü´í</span>
                </div>
                <div>
                  <strong>Bouteille 750&nbsp;ml</strong>
                  <div style="font-size:0.9rem; color:#555;">
                    Grand format ‚Äúfamille‚Äù pour la cuisine du quotidien.<br />
                    <span><strong><span id="price-750-label">15</span>&nbsp;‚Ç¨</strong> / bouteille</span>
                  </div>
                </div>
              </div>
              <div>
                <label for="qty-750" style="font-size:0.9rem; font-weight:600;">Quantit√©</label>
                <input
                  id="qty-750"
                  type="number"
                  min="0"
                  value="0"
                  style="width:80px; padding:6px 8px; border-radius:10px; border:1px solid #c9c1ad;"
                />
              </div>
            </div>
          </div>

          <!-- Livraison / retrait -->
          <div style="margin-top:18px;">
            <h3 style="margin:0 0 8px; font-size:1.05rem; color:#1c2a17;">
              Livraison ou retrait
            </h3>
            <p class="section-sub" style="margin-bottom:10px;">
              Merci de choisir l‚Äôoption qui vous convient :
            </p>

            <div style="display:grid; gap:6px; font-size:0.95rem;">
              <label style="display:flex; align-items:flex-start; gap:8px; cursor:pointer;">
                <input
                  type="radio"
                  name="delivery-option"
                  id="option-livraison"
                  value="livraison"
                  style="margin-top:3px;"
                />
                <span>
                  <strong>Livraison √† domicile (+ 5&nbsp;‚Ç¨)</strong><br />
                  Disponible uniquement sur Uccle, Ixelles et dans un rayon de ~3&nbsp;km.
                </span>
              </label>

              <label style="display:flex; align-items:flex-start; gap:8px; cursor:pointer;">
                <input
                  type="radio"
                  name="delivery-option"
                  id="option-retrait"
                  value="retrait"
                  style="margin-top:3px;"
                />
                <span>
                  <strong>Retrait √† Ixelles (gratuit)</strong><br />
                  Sur rendez-vous, en prenant contact par e-mail :
                  <a href="mailto:arnaudvanderstraten@gmail.com">arnaudvanderstraten@gmail.com</a>
                </span>
              </label>
            </div>
          </div>

          <!-- R√©capitulatif -->
          <div
            style="margin-top:20px; padding:14px 16px; border-radius:16px; background:#f3efe5; font-size:0.95rem;"
          >
            <h3 style="margin:0 0 10px; font-size:1.05rem; color:#1c2a17;">
              R√©capitulatif de votre commande
            </h3>
            <div style="display:flex; justify-content:space-between; margin-bottom:4px;">
              <span>Sous-total bouteilles</span>
              <span><strong><span id="summary-subtotal">0,00</span>&nbsp;‚Ç¨</strong></span>
            </div>
            <div style="display:flex; justify-content:space-between; margin-bottom:4px;">
              <span>Frais de livraison</span>
              <span><strong><span id="summary-delivery">0,00</span>&nbsp;‚Ç¨</strong></span>
            </div>
            <div style="border-top:1px solid #d0c7b7; margin:8px 0;"></div>
            <div style="display:flex; justify-content:space-between; font-size:1.05rem;">
              <span>Total √† payer</span>
              <span><strong><span id="summary-total">0,00</span>&nbsp;‚Ç¨</strong></span>
            </div>
            <p
              style="margin-top:8px; font-size:0.8rem; color:#666; line-height:1.4;"
            >
              Le montant total ci-dessus sera envoy√© √† Revolut lorsque vous cliquerez
              sur le bouton de paiement. Nous recevrons en parall√®le un e-mail
              r√©capitulatif de votre commande.
            </p>
          </div>

          <!-- Bouton de paiement Revolut + zone de test note -->
          <div style="margin-top:18px; display:flex; flex-direction:column; gap:8px;">
            <div style="display:flex; flex-wrap:wrap; gap:12px; align-items:center;">
              <button
                id="pay-button"
                type="button"
                class="btn-main"
                style="border:none; cursor:pointer;"
              >
                üí≥ Payer via Revolut
              </button>
              <p style="font-size:0.85rem; color:#555; max-width:420px; margin:0;">
                Vous serez redirig√©¬∑e vers Revolut. Merci de v√©rifier que le montant
                correspond au total indiqu√© ci-dessus.
              </p>
            </div>

            <!-- Zone de test pour afficher la note envoy√©e par mail -->
            <div
              id="revolut-note-test-wrapper"
              style="margin-top:6px; font-size:0.8rem; color:#555; background:#f9f4e8; padding:8px 10px; border-radius:8px; display:none;"
            >
              <strong>R√©capitulatif de la commande :</strong>
              <div id="revolut-note-test" style="margin-top:4px; white-space:pre-wrap; word-break:break-word;"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- CONTACT -->
      <section id="contact">
        <div class="card">
          <h2 class="section-title">Contact</h2>
          <p class="section-sub">
            Pour toute question sur l‚Äôhuile de Fany, les formats, la disponibilit√© ou
            l‚Äôorganisation de la remise :
          </p>
          <p class="section-sub" style="margin-top:4px;">
            üìß E-mail :
            <a href="mailto:arnaudvanderstraten@gmail.com">
              arnaudvanderstraten@gmail.com
            </a>
          </p>
        </div>
      </section>
    </main>

    <footer>
      Huile d‚Äôolive de Fany ‚Äì r√©colte familiale √† Manziana (Italie).<br />
      Site artisanal h√©berg√© sur GitHub Pages.
    </footer>
  </div>

  <!-- EmailJS library -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

  <!-- SCRIPT CALCUL + REVOLUT + ENVOI EMAIL + DIAPORAMA -->
  <script>
    (function () {
      /* --------- DIAPORAMA HERO --------- */
      const SLIDESHOW_IMAGES = [
        // Oliveraies & huile d‚Äôolive / l√©gumes
        "https://images.pexels.com/photos/1047312/pexels-photo-1047312.jpeg?auto=compress&cs=tinysrgb&w=1600",
        "https://images.pexels.com/photos/143133/pexels-photo-143133.jpeg?auto=compress&cs=tinysrgb&w=1600",
        "https://images.pexels.com/photos/1459339/pexels-photo-1459339.jpeg?auto=compress&cs=tinysrgb&w=1600",
        "https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=1600",
        "https://images.pexels.com/photos/3892172/pexels-photo-3892172.jpeg?auto=compress&cs=tinysrgb&w=1600"
      ];

      const heroImg = document.getElementById("hero-slideshow");
      let slideIndex = 0;

      function nextSlide() {
        if (!heroImg || SLIDESHOW_IMAGES.length <= 1) return;
        slideIndex = (slideIndex + 1) % SLIDESHOW_IMAGES.length;
        heroImg.style.opacity = 0;
        heroImg.style.transform = "scale(1.02)";
        setTimeout(function () {
          heroImg.src = SLIDESHOW_IMAGES[slideIndex];
          heroImg.style.opacity = 1;
          heroImg.style.transform = "scale(1.04)";
        }, 500);
      }

      if (heroImg && SLIDESHOW_IMAGES.length > 1) {
        heroImg.src = SLIDESHOW_IMAGES[0];
        setInterval(nextSlide, 6000);
      }

      /* --------- CONFIG PAIEMENT / EMAIL --------- */
      const PRICE_250 = 8;
      const PRICE_750 = 15;
      const DELIVERY_FEE = 5;
      const REVOLUT_URL = "https://revolut.me/avanderstratenwaillet";

      const EMAILJS_PUBLIC_KEY  = "xtM2H9PprxWX1IWnr";
      const EMAILJS_SERVICE_ID  = "service_5yw7g4q";
      const EMAILJS_TEMPLATE_ID = "template_hyc543e";

      if (typeof emailjs !== "undefined") {
        try {
          emailjs.init(EMAILJS_PUBLIC_KEY);
        } catch (e) {
          console.error("Erreur init EmailJS :", e);
        }
      }

      // ---- √âL√âMENTS DU FORMULAIRE ----
      const nameInput = document.getElementById("customer-name");
      const emailInput = document.getElementById("customer-email");

      const qty250Input = document.getElementById("qty-250");
      const qty750Input = document.getElementById("qty-750");
      const deliveryRadios = document.querySelectorAll('input[name="delivery-option"]');

      const subtotalSpan = document.getElementById("summary-subtotal");
      const deliverySpan = document.getElementById("summary-delivery");
      const totalSpan = document.getElementById("summary-total");
      const payButton = document.getElementById("pay-button");

      const noteWrapper = document.getElementById("revolut-note-test-wrapper");
      const noteText = document.getElementById("revolut-note-test");

      document.getElementById("price-250-label").textContent = PRICE_250.toString();
      document.getElementById("price-750-label").textContent = PRICE_750.toString();

      function getSelectedDeliveryOption() {
        let value = null;
        deliveryRadios.forEach((r) => {
          if (r.checked) value = r.value;
        });
        return value;
      }

      function formatEuro(value) {
        return value.toFixed(2).replace(".", ",");
      }

      function calculateTotals() {
        const qty250 = parseInt(qty250Input.value, 10) || 0;
        const qty750 = parseInt(qty750Input.value, 10) || 0;

        let subtotal = qty250 * PRICE_250 + qty750 * PRICE_750;

        const deliveryOption = getSelectedDeliveryOption();
        let delivery = 0;

        if (deliveryOption === "livraison" && subtotal > 0) {
          delivery = DELIVERY_FEE;
        }

        const total = subtotal + delivery;
        return { qty250, qty750, subtotal, delivery, total, deliveryOption };
      }

      function recalculate() {
        const totals = calculateTotals();
        subtotalSpan.textContent = formatEuro(totals.subtotal);
        deliverySpan.textContent = formatEuro(totals.delivery);
        totalSpan.textContent = formatEuro(totals.total);
      }

      qty250Input.addEventListener("input", recalculate);
      qty750Input.addEventListener("input", recalculate);
      deliveryRadios.forEach((r) => {
        r.addEventListener("change", recalculate);
      });

      payButton.addEventListener("click", function () {
        const name = (nameInput.value || "").trim();
        const email = (emailInput.value || "").trim();
        const totals = calculateTotals();

        if (!name) {
          alert("Veuillez indiquer votre nom et pr√©nom avant de proc√©der au paiement.");
          return;
        }

        if (!totals.subtotal || totals.subtotal <= 0) {
          alert("Veuillez s√©lectionner au moins une bouteille avant de proc√©der au paiement.");
          return;
        }

        if (!totals.deliveryOption) {
          alert("Veuillez choisir entre livraison √† domicile et retrait √† Ixelles.");
          return;
        }

        const amountRounded = Math.round(totals.total * 100) / 100;

        const deliveryText = totals.deliveryOption === "livraison"
          ? "Livraison (Uccle / Ixelles / ~3 km, +5 ‚Ç¨)"
          : "Retrait √† Ixelles";

        const recapLines = [
          "Nouvelle commande huile de Fany",
          "",
          "Nom : " + name,
          "Email : " + (email || "non communiqu√©"),
          "",
          "Quantit√© 250 ml : " + totals.qty250,
          "Quantit√© 750 ml : " + totals.qty750,
          "Option : " + deliveryText,
          "",
          "Sous-total bouteilles : " + formatEuro(totals.subtotal) + " ‚Ç¨",
          "Frais de livraison : " + formatEuro(totals.delivery) + " ‚Ç¨",
          "Total : " + formatEuro(amountRounded) + " ‚Ç¨"
        ];

        const recapText = recapLines.join("\n");

        noteWrapper.style.display = "block";
        noteText.textContent = recapText;

        if (typeof emailjs !== "undefined") {
          const templateParams = {
            from_name: name,
            from_email: email || "non communiqu√©",
            message: recapText,
            qty_250: totals.qty250,
            qty_750: totals.qty750,
            delivery: deliveryText,
            total: formatEuro(amountRounded)
          };

          emailjs
            .send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, templateParams)
            .then(
              function (response) {
                console.log("EmailJS OK", response.status, response.text);
              },
              function (error) {
                console.error("Erreur EmailJS", error);
              }
            );
        }

        alert(
          "Montant total √† payer : " +
            formatEuro(amountRounded) +
            " ‚Ç¨.\n\nUne nouvelle fen√™tre va s‚Äôouvrir pour finaliser votre paiement sur Revolut."
        );

        window.open(REVOLUT_URL, "_blank");
      });

      recalculate();
    })();
  </script>
</body>
</html>
